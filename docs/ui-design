# Fashion Carbon Calculator UI Design Specification

## Project Overview

**Product**: Fashion Carbon Calculator MVP - A mobile-first Progressive Web App (PWA) that calculates the carbon footprint of fashion items based on material composition and manufacturing location.

**Target Users**: Environmentally conscious consumers who want to understand the environmental impact of their clothing purchases.

**Design Pattern**: Accordion/Expandable Sections with progressive disclosure

## Core Design Principles

### 1. Progressive Disclosure
- Show smart defaults immediately (e.g., T-shirt = 7.5 kg CO2e)
- Reveal complexity only when users need it
- Always provide educated defaults when users lack information

### 2. Mobile-First Optimization
- Minimum 48px touch targets
- Bottom-sheet modals for complex selections
- Thumb-zone placement for primary actions
- Single-column layout with vertical scroll

### 3. Error Prevention & Recovery
- Real-time validation with helpful error messages
- Auto-correction options (e.g., percentages that don't sum to 100%)
- Clear visual feedback for invalid states
- Maintain user inputs during error states

### 4. Real-time Feedback
- Live carbon impact updates as users make selections
- Running total in sticky header
- Visual indicators for calculation progress
- Smooth number animations for impact emphasis

## Technical Specifications

### Design System

```css
/* Colors */
--primary: #10B981;      /* Green - Main CTA */
--secondary: #3B82F6;    /* Blue - Secondary actions */
--background: #F9FAFB;   /* Light gray background */
--surface: #FFFFFF;      /* White cards */
--text-primary: #111827; /* Dark text */
--text-secondary: #6B7280; /* Gray text */
--error: #EF4444;        /* Red - Errors */
--warning: #F59E0B;      /* Amber - Warnings */
--border: #E5E7EB;       /* Light borders */

/* Typography */
--font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
--font-size-base: 16px;
--font-size-small: 14px;
--font-size-large: 20px;
--font-size-xlarge: 24px;

/* Spacing (4px base unit) */
--space-xs: 4px;
--space-sm: 8px;
--space-md: 16px;
--space-lg: 24px;
--space-xl: 32px;

/* Layout */
--max-width: 414px;  /* iPhone 12 Pro Max width */
--header-height: 120px;
--accordion-item-height: 56px;
--touch-target-min: 48px;
```

## UI Components & Wireframes

### Layout Structure

```
â”Œâ”€â”€â”€ Status Bar (System) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”œâ”€â”€â”€ App Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    - Title                      â”‚
â”‚    - Subtitle                   â”‚
â”œâ”€â”€â”€ Impact Display (Sticky) â”€â”€â”€â”€â”€â”¤
â”‚    - Current calculation        â”‚
â”‚    - Progress dots              â”‚
â”œâ”€â”€â”€ Accordion Container â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    â”œâ”€ Section 1: Item          â”‚
â”‚    â”œâ”€ Section 2: Material      â”‚
â”‚    â”œâ”€ Section 3: Location      â”‚
â”‚    â””â”€ Section 4: Results       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Component States

#### 1. Accordion Section States

```
LOCKED STATE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. Choose Material â–¼            â”‚
â”‚ ğŸ”’ Select item first           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Background: #F3F4F6
Text: #9CA3AF
Height: 56px

COLLAPSED STATE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Select Item â–¼                â”‚
â”‚ Not selected                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Background: #FFFFFF
Border: 1px solid #E5E7EB
Height: 56px

EXPANDED STATE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Select Item â–²           [?]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Content Area]                  â”‚
â”‚ Min-height: 200px               â”‚
â”‚ Padding: 16px                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Background: #FFFFFF
Border: 2px solid #10B981
Shadow: 0 4px 6px rgba(0,0,0,0.1)

COMPLETED STATE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Select Item â–¼                â”‚
â”‚ âœ“ T-Shirt                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Background: #FFFFFF
Border: 1px solid #10B981
Height: 56px
```

#### 2. Impact Display Component

```
DEFAULT STATE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Current Impact: -- kg COâ‚‚e      â”‚
â”‚ â—‹â—‹â—‹â—‹ [Calculate]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CALCULATING STATE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Current Impact: 7.5 kg COâ‚‚e     â”‚
â”‚ â—â—â—‹â—‹ Updating...                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

COMPLETE STATE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Calculation Complete          â”‚
â”‚ â—â—â—â— 9.7 kg COâ‚‚e               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ERROR STATE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸ Custom Mix Error             â”‚
â”‚ Percentages must = 100%         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Screen Flows

#### Screen 1: Initial Load
- All sections collapsed
- Section 1 (Item) is unlocked and ready
- Sections 2-4 are locked with gray background
- Impact display shows placeholder

#### Screen 2: Item Selection
```
User Action: Tap Section 1
Result: 
- Section expands with spring animation (200ms)
- Grid of 4 items appears (2x2)
- Each item shows emoji, name, and base CO2

Item Cards (120x120px):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘•   â”‚
â”‚T-Shirtâ”‚
â”‚7.5 kg â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜

User Action: Select item
Result:
- Item card gets green border
- Section 2 unlocks
- Impact display updates
- Auto-collapse after 500ms delay
```

#### Screen 3: Material Selection
```
User Action: Tap Section 2
Result:
- Section 2 expands
- Shows 3 radio options
- Selected option shows live impact

Material Options:
â—‰ 100% Single Material
  [Dropdown: Cotton â–¼]
  Impact: 7.5 kg COâ‚‚e

â—‹ Common Blend (50/50)
  Cotton/Polyester
  Impact: 6.9 kg COâ‚‚e

â—‹ Custom Mix
  Set your own %
  
Custom Mix Expanded:
Material 1: [Cotton â–¼] [70]%
Material 2: [Polyester â–¼] [30]%
Total: 100% âœ“
[+ Add Material]
```

#### Screen 4: Location Selection
```
Layout: 1 featured + 6 grid (2x3)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒ Global Average           â”‚
â”‚    6.9 kg COâ‚‚e         âœ“   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”
â”‚ ğŸ‡¨ğŸ‡³ â”‚ â”‚ ğŸ‡®ğŸ‡³ â”‚ â”‚ ğŸ‡§ğŸ‡© â”‚
â”‚Chinaâ”‚ â”‚Indiaâ”‚ â”‚ BD  â”‚
â”‚ 9.7 â”‚ â”‚ 8.6 â”‚ â”‚ 6.6 â”‚
â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜
```

#### Screen 5: Results Display
```
Manufacturing Impact
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      9.7 kg COâ‚‚e           â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘           â”‚
â”‚ Range: 5.2 - 14.1 kg       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Full Lifecycle: 12.6 kg
(+30% for use & disposal)

Equivalent to:
ğŸš— Driving 39 miles
ğŸ“± 1,180 phone charges
ğŸŒ³ 5 months of tree growth

[Expandable: How we calculated â–¼]

[Save Result] [New Item]
```

### Interaction Specifications

#### Touch Gestures
- **Tap**: Select items, expand/collapse sections
- **Swipe down**: Collapse expanded section
- **Long press**: Show tooltip help
- **Pinch**: Not used in MVP

#### Animations
```javascript
// Accordion expand/collapse
transition: all 200ms ease-out;
transform: translateY(0);

// Number updates
// Count from old value to new value over 500ms
// Use requestAnimationFrame for smooth counting

// Progress dots
// Fill animation: 300ms ease-in-out
// Scale on complete: 1.2x then back to 1x

// Error shake
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-10px); }
  75% { transform: translateX(10px); }
}
animation: shake 400ms ease-in-out;
```

#### Loading States
- Skeleton screens for initial load
- Spinner overlay for calculations
- Progress bar for multi-step operations
- Network status banner when offline

### Error Handling

#### Input Errors
```
PERCENTAGE ERROR:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Total: 90% âŒ                   â”‚
â”‚ [Auto-adjust to 100%]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

NETWORK ERROR:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸ Offline Mode                 â”‚
â”‚ Results will save later         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Recovery Options
- One-tap fixes for common errors
- Clear messaging about what went wrong
- Preserve user input during errors
- Offline queue for data submission

### Accessibility Requirements

1. **Screen Reader Support**
   - Announce section state changes
   - Read calculation results
   - Describe interactive elements

2. **Keyboard Navigation**
   - Tab through sections
   - Enter to expand/collapse
   - Arrow keys for option selection

3. **Visual Accessibility**
   - WCAG AA contrast ratios
   - Focus indicators (2px solid outline)
   - Reduced motion option

## Data Structure Reference

```javascript
// Item base values (kg CO2e)
ITEMS = {
  tshirt: { name: "T-shirt", emoji: "ğŸ‘•", base: 7.5 },
  jeans: { name: "Jeans", emoji: "ğŸ‘–", base: 32 },
  dress: { name: "Dress", emoji: "ğŸ‘—", base: 22 },
  shoes: { name: "Shoes", emoji: "ğŸ‘Ÿ", base: 14 }
}

// Material multipliers
MATERIALS = {
  cotton: 1.0,
  organic_cotton: 0.73,
  polyester: 0.85,
  recycled_polyester: 0.35,
  hemp: 0.48,
  wool: 2.4
}

// Location multipliers  
LOCATIONS = {
  global: { name: "Global Average", flag: "ğŸŒ", mult: 1.0 },
  bangladesh: { name: "Bangladesh", flag: "ğŸ‡§ğŸ‡©", mult: 0.95 },
  vietnam: { name: "Vietnam", flag: "ğŸ‡»ğŸ‡³", mult: 0.98 },
  turkey: { name: "Turkey", flag: "ğŸ‡¹ğŸ‡·", mult: 1.05 },
  china: { name: "China", flag: "ğŸ‡¨ğŸ‡³", mult: 1.4 },
  india: { name: "India", flag: "ğŸ‡®ğŸ‡³", mult: 1.25 },
  portugal: { name: "Portugal/EU", flag: "ğŸ‡µğŸ‡¹", mult: 0.85 }
}

// Calculation formula
carbon = baseValue * materialMultiplier * locationMultiplier
lifecycle = carbon * 1.3 // +30% for use phase
```

## Implementation Notes

### Progressive Web App Requirements
- Service worker for offline functionality
- Web app manifest for installation
- Cache calculation data locally
- Background sync for data submission

### Performance Targets
- Initial load: <3 seconds on 3G
- Calculation response: <100ms
- Animation frame rate: 60fps
- Offline capability: Full functionality

### Browser Support
- iOS Safari 14+
- Chrome 88+
- Firefox 85+
- Samsung Internet 13+

### Testing Considerations
- Test on devices from 320px to 414px width
- Verify touch targets on small screens
- Test with screen readers
- Validate offline functionality
- Check animation performance on older devices

This specification provides all necessary information to build the Fashion Carbon Calculator UI using the accordion pattern with mobile-first, accessibility-focused design principles.
